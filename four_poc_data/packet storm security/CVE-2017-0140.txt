{
    "text": "date_time:Mar 14, 2017 ， title:Microsoft Edge Fetch API Arbitrary Header Setting  ， detail:It was found that the Fetch API in Microsoft Edge allows websites to set arbitrary HTTP request headers, including the Content-Length, and Host headers. Amongst others, a malicious website can use this issue to bypass the same origin policy, read HTTP response headers, or initiate arbitrary HTTP requests from the victim's browser (HTTP request smuggling).  ， cve:advisories | CVE-2017-0140  ， date_time:Mar 14, 2017  ， desc:-  ， Microsoft Edge Fetch API allows setting of arbitrary request headers  ，  ， Yorick Koster, January 2017  ，  ， Abstract  ，  ， It was found that the Fetch API in Microsoft Edge allows websites to set  ， arbitrary HTTP request headers, including the Content-Length, and Host  ， headers. Amongst others, a malicious website can use this issue to  ， bypass the same origin policy, read HTTP response headers, or initiate  ， arbitrary HTTP requests from the victim's browser (HTTP request  ， smuggling).  ，  ， See also  ，  ， - CVE-2017-0140  ， - MS17-007: Cumulative Security Update for Microsoft Edge (4013071)  ，  ， Tested versions  ，  ， This issue was successfully tested on Microsoft Edge version  ， 38.14393.0.0 (EdgeHTML 14.14393).  ，  ， Fix  ，  ， Microsoft released MS17-007 that fixes this vulnerability.  ，  ， Details  ，  ， https:/www.securify.nl/advisory/SFY20170101/microsoft_edge_fetch_api_allows_setting_of_arbitrary_request_headers.html  ， The Fetch API is exposed in the global window scope, and uses promises to handle the results. Promises can be chained together if needed. A simple Fetch request looks something like this:  ， fetch('/restapi/')  ， .then(function(response) {  ， response.json().then(function(data) {  ， console.log(data);  ， });  ， })  ， .catch(function(err) {  ， console.log('Error :', err);  ， });  ， The first argument of the fetch() method can be an URL or Request object. The second argument is optional and contains custom settings that apply to the request, including the HTTP method, HTTP request headers, HTTP request body, and the mode (same-origin, cors, no-cors, or navigate).  ， Both Google Chrome and Firefox restrict which HTTP request headers can be set using Fetch. It was found that Microsoft Edge accepts practically any HTTP request header, including the Content-Length, and Host headers.  ， Same origin policy bypass  ， Because Microsoft Edge allows arbitrary Host headers to be set, it is possible to bypass the same origin policy if multiple virtual hosts are running on the same IP address. An attack that has control of a website running as one virtual host can read the contents of websites of other virtual hots by setting the Host header to the DNS name of the other virtual hosts. The following proof of concept demonstrates this issue:"
}